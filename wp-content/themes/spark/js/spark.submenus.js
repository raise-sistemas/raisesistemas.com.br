(function($){var methods={init:function(user_options){var options=$.extend({'openEvent':'mouseenter','nested':true},user_options);var menuItems=this;if(options.nested){menuItems.find('> ul li.spark-has-submenu').sparkSubmenusNested({'openEvent':options.openEvent});}
window.navLinks_hasSubmenu=menuItems.find('> a[href^="#"]');if(options.openEvent=='mouseenter'){menuItems.on({mouseenter:function(){methods.open.call($(this));},mouseleave:function(){methods.close.call($(this));}});}else{if(!$.sparkHelpers.isMobileView()||!window.responsiveNavEnabled){window.navLinks_hasSubmenu.unbind('mousedown',window.navLinks_handler);}
menuItems.mousedown(function(event){if(event.which==2||event.which==3){return;}
if($(this).hasClass('submenu-open')){methods.closeAll.call();}else{methods.closeAll.call();methods.open.call($(this));}}).click(function(event){event.preventDefault();}).find('> ul').children().on('click mousedown',function(event){event.stopPropagation();});}},open:function(){menuItem=this;menuItem.addClass('submenu-open');menuLink=menuItem.find('> a');subMenu=menuItem.find('> ul.sub-menu');menuPosition=menuLink.position();menuOffset=menuLink.offset();rightSpace=10;menuEndPosition=menuOffset.left+subMenu.width()+rightSpace;offView=menuEndPosition>$(window).width();positionLeft=(offView)?'-'+(menuEndPosition-$(window).width())+'px':menuPosition.left+'px';subMenu.stop().css({'display':'block','left':positionLeft}).animate({opacity:1,'margin-top':'0px'},{duration:200,easing:"linear"});$('html').bind('click',methods.close_handler);},close:function(){menuItem=this;menuItem.removeClass('submenu-open');menuItem.find('> ul.sub-menu').stop().animate({opacity:0,'margin-top':'-10px'},100,"linear",function(){$(this).css('display','none');});$('html').unbind('click',methods.close_handler);},closeAll:function(){$('.submenu-open').each(function(){methods.close.call($(this));});},close_handler:function(event){if(!$(event.target).is('nav li.submenu-open *, nav li.submenu-open')){methods.closeAll.call();}}};$.fn.sparkSubmenus=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on sparkSubmenus');}};})(jQuery);(function($){var methods={init:function(user_options){var options=$.extend({'openEvent':'mouseenter'},user_options);menuItems=this;if(options.openEvent=='mouseenter'){menuItems.on({mouseenter:function(){methods.open.call($(this));},mouseleave:function(){methods.close.call($(this));}});}else{menuItems.mousedown(function(event){if(event.which==2||event.which==3){return;}
if($(this).hasClass('submenu-open')){methods.close.call($(this));}else{methods.open.call($(this));}
event.stopPropagation();}).click(function(event){event.preventDefault();}).find('> ul').children().on('click mousedown',function(event){event.stopPropagation();});}},open:function(){menuItem=this;menuItem.addClass('submenu-open');menuPosition=menuItem.position();menuOffset=menuItem.offset();menuWidth=menuItem.width();var offView=menuOffset.left+(menuWidth*2)>$(window).width();positionTop=menuPosition.top+6;positionLeft=(offView)?(menuPosition.left-(menuWidth*2))+'px':menuPosition.left+'px';marginLeftBefore=(offView)?(menuWidth+10)+'px':(menuWidth-10)+'px';menuItem.find('> ul.sub-menu').stop().css({'display':'block','margin-left':marginLeftBefore,'top':positionTop,'left':positionLeft}).animate({opacity:1,'margin-left':menuWidth+'px'},{duration:100,easing:"linear"});},close:function(){menuItem=this;menuItem.removeClass('submenu-open');menuItem.find('> ul.sub-menu').stop().animate({opacity:0,'margin-left':marginLeftBefore},100,"linear",function(){$(this).css('display','none');});}};$.fn.sparkSubmenusNested=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on sparkSubmenusNested');}};})(jQuery);