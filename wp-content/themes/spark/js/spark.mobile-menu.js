(function($){var methods={init:function(){$("<select class='mobiles-only menu' />").appendTo("nav.menu");$('nav.menu > ul.nav').addClass('hide-for-mobiles');$("<option />",{"value":"","text":"Menu"}).appendTo("nav.menu select.menu");$("nav.menu > ul > li").each(function(){methods._populate.call($(this),'')});$("nav.menu select.menu").val(window.location.href);if($("nav.menu select.menu").val()!==window.location.href){$("nav.menu select.menu").val(window.location.hash);}
$("nav.menu select.menu").change(function(){window.location=$(this).find("option:selected").val();});},_populate:function(level){var menuItem=this;var menuLink=menuItem.find('> a'),hasChildren=menuItem.find("> ul"),children=menuItem.find("> ul > li"),nesting=(level)?' '+level:'',menuHref=menuLink.attr("href");$("<option />",{"value":menuHref,"text":nesting+menuLink.clone().children().remove().end().text()}).appendTo("nav.menu select.menu");if(hasChildren.length){children.each(function(){methods._populate.call($(this),level+'- ');});}}};$.fn.sparkMobileMenu=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on sparkMobileMenu');}};})(jQuery);